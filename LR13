using System;
using System.Windows.Forms;

public partial class Form1 : Form
{
    private TextBox textBoxA;
    private TextBox textBoxB;

    public Form1()
    {
        InitializeComponent();
    }

    private void InitializeComponent()
    {
        this.textBoxA = new TextBox();
        this.textBoxB = new TextBox();
        this.SuspendLayout();
        
        // textBoxA
        this.textBoxA.Location = new System.Drawing.Point(12, 12);
        this.textBoxA.Name = "textBoxA";
        this.textBoxA.Size = new System.Drawing.Size(100, 20);
        this.textBoxA.Text = "1";
        
        // textBoxB
        this.textBoxB.Location = new System.Drawing.Point(12, 38);
        this.textBoxB.Name = "textBoxB";
        this.textBoxB.Size = new System.Drawing.Size(100, 20);
        this.textBoxB.Text = "1";
        
        // Form1
        this.ClientSize = new System.Drawing.Size(400, 300);
        this.Controls.Add(this.textBoxA);
        this.Controls.Add(this.textBoxB);
        this.Name = "Form1";
        this.Text = "Calculator";
        this.MouseMove += new MouseEventHandler(this.Form1_MouseMove);
        
        this.ResumeLayout(false);
        this.PerformLayout();
    }

    private void Form1_MouseMove(object sender, MouseEventArgs e)
    {
        double x = e.X;
        double y = e.Y;

        if (!double.TryParse(textBoxA.Text, out double a) ||
            !double.TryParse(textBoxB.Text, out double b))
        {
            Text = "ERROR: invalid a or b";
            return;
        }

        if (Math.Abs(x + y) < 1e-9)
        {
            Text = "ERROR: division by zero";
            return;
        }

        double Z = (Math.Sin(x * a) + Math.Cos(y * b)) / (x + y);
        Text = $"Z = {Z:F4}";
    }
}

// Program entry point
public class Program
{
    [STAThread]
    public static void Main()
    {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.Run(new Form1());
    }
}
